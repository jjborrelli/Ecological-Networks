library(igraph)
library(NetIndices)
library(reshape2)
library(ggplot2)
library(devtools)
library(vegan)
### Load functions       --------------------------------------------------
setwd("~/Desktop/GitHub/Ecological-Networks/Food Webs")
### Load functions       --------------------------------------------------
url <- "https://raw.github.com/jjborrelli/Ecological-Networks/master/Food%20Webs/Rscripts/web_functions.R"
source_url(url)
inputs <- get_webs("~/Dropbox/Food Web Database/Food_Web/Edgelist")
web.graphs <- inputs$graph.list
web.matrices <- inputs$adjacency.list
webnames <- inputs$webnames
fw.indices <- read.csv("Tables/FWindices.csv")
motif.df <- read.table("Tables/motifCOUNTS.csv", header = T, sep = ",")
motif.means <- apply(motif.df[,3:15], 2, mean)
getwd()
setwd("~/Desktop/GitHub/Ecological-Networks/Food Webs")
motif.df <- read.table("Tables/motifCOUNTS.csv", header = T, sep = ",")
system.time(
permutes <- web_permutation(web.matrices, fixedmar = "both", times = 1000)
)
permint.both<- sapply(permutes, FUN = function(x){apply(x[,2:14], 2, quantile, probs = c(0.975, 0.025))})
system.time(
permutes.row <- web_permutation(web.matrices, fixedmar = "rows", times = 1000)
)
permint.row <- sapply(permutes.row, FUN = function(x){apply(x[,2:14], 2, quantile, probs = c(0.975, 0.025))})
system.time(
permutes.col <- web_permutation(web.matrices, fixedmar = "columns", times = 1000)
)
permint.col <- sapply(permutes.col, FUN = function(x){apply(x[,2:14], 2, quantile, probs = c(0.975, 0.025))})
permint.col
permint.row
permint.both
getwd()
write.csv(permint.both, file = "Tables/permutedCI_both.csv")
write.csv(permint.row, file = "Tables/permutedCI_row.csv")
write.csv(permint.col, file = "Tables/permutedCI_col.csv")
